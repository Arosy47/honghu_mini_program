

<cu-custom bgColor="theme-color" isBack="{{true}}">
  <view slot="content">{{type == 2?'收藏':'动态'}}</view>
</cu-custom>

<import src="/templates/nodata.wxml" />

<view wx:if="{{initLoading}}">
  <view class="cu-load loading text-gray" style="color: #666;"></view>
</view>

<view wx:for="{{topics}}" id="{{'selection-'+groupIndex}}" wx:for-item="list"  wx:for-index="groupIndex"  wx:key="groupIndex" >
  <view wx:if="{{styleMap[groupIndex].visible}}" class="">
    <view wx:for="{{list}}" wx:for-item="item" id="item-{{item.id}}" wx:key="{{item.id}}" >
      <topic-item wx:if="{{(item.functionType=='NORMAL'||item.functionType=='VOTE'||item.functionType=='SECOND_HAND_MARKET')}}" hover topic-item-class="topic-item" topic="{{item}}" isOwner="{{userId === item.userId}}" admin="{{item.admin}}" data-group-index="{{groupIndex}}" data-index="{{index}}" bind:moreIconTap="showActions" bind:commentIconTap="gotoTopicDetail" bind:thumbUpIconTap="onThumbUpTap" 
bind:collectIconTap="onCollectTap" bind:viewIconTap="gotoTopicDetail"
bind:dingIconTap="onDingTap"
bind:tagTap="gotoCategory" bind:shareTab="onShareTab" bind:vote="vote" showTop/>
    </view>
  </view>
  <view wx:else style="height:{{styleMap[groupIndex].height}}px" class="selection--show">
    
  </view>
</view>

<van-action-sheet
  z-index="1025"
  show="{{ actionsShow }}"
  actions="{{ actions }}"
  bind:close="actionClose"
  bind:select="actionSelect"
/>

<l-loadmore l-class="loading" show="{{!initLoading&&loading}}" type="loading" loading-text="正在加载中..." line />
<l-loadmore l-class="loading" show="{{!nodata&&!initLoading&&!hasMore && !loading}}" type="end" end-text="已经到底了" line />

<view class="bottom-adapt" style="height: 100rpx;"></view>

<nothing wx:if="{{nodata}}" pic="../../images/icon_nothing/pic_topic.png" tip="暂时没有{{type==1?'帖子':'收藏'}}" />

